install.packages("bookdown")
knitr::opts_chunk$set(echo = TRUE)
library(raster)
library(EBImage)
install.packages("BiocManager")
BiocManager::install("EBImage")
library(bookdown)
install.packages("gstat")
library(gstat)
library(bookdown)
install.packages("emojifont")
knitr::opts_chunk$set(echo = TRUE, warning = F)
library(tidyverse)
knitr::include_graphics("data/dplyr-doc/dplyr.png")
koala<-read.csv('data/koala.csv')
names(koala)
str(koala)
summary(koala)
mean(koala[koala$sex == 'male', "age"],na.rm = TRUE)
female_mean<-mean(koala[koala$sex == 'female', "age"],na.rm = TRUE)
male_mean<-mean(koala[koala$sex == 'male', "age"],na.rm = TRUE)
means<-rbind(c(female_mean, male_mean))
means<-as.data.frame(means)
names(means)<-c('female', 'male')
means
library(dplyr)
mean_age_koala<-koala%>%group_by(sex)%>%summarise(mean_age = mean(age))
mean_age_koala
koala_select<-select(koala, species, sex, age)
head(koala_select)
koala_select_pipe<-koala%>%select(species, sex, age)
koala_filter<-koala%>%filter(sex == 'male')
summary(koala_filter$sex)
challenge1<-koala%>%filter(sex == 'female')%>%
select(age, size, color)
nrow(challenge1)
ncol(challenge1)
challenge1.2<-challenge1%>%filter(size>70)
nrow(challenge1.2)
koala_group<-koala%>%group_by(sex)
str(koala_group)
koala_group_sum<-koala%>%group_by(sex)%>%
summarise(mean_age=mean(age))
koala_group_sum
challenge2<-koala%>%group_by(state, sex)%>%
summarise(mean_weight = mean(weight))
challenge2
challenge2_ext<-koala%>%group_by(state, sex)%>%
summarise(mean_weight = mean(weight),
sd_weight = sd(weight),
sample_no = n())
koala_mutate<-koala%>%mutate(weight_size_ratio = size/weight, ID = row_number())
names(koala_mutate)
koala_mutate_weight_size<-koala%>%mutate(weight_size_ratio = size/weight)%>%
group_by(sex)%>%
summarise(mean_weight = mean(weight),
sd_weight = sd(weight),
mean_weight_size = mean (weight_size_ratio),
max_weight_size = max(weight_size_ratio))
koala_mutate_weight_size
challenge3<-koala%>%filter(state == 'New South Wales')%>%
group_by(sex)%>%
sample_n(20)%>%
summarise(mean_tail = mean(tail), mean_fur = mean(fur))%>%
arrange(desc(mean_tail))
challenge3
koala_subsample<-koala%>%select(species, region, sex, tail, age)
head(koala_subsample)
koala_subsample<-koala_subsample%>%mutate(tail2 = runif(nrow(koala_subsample), min = 2, max = 3))
head(koala_subsample)
ggplot(koala_subsample, aes(x=species, y=tail)) +
geom_boxplot()
ggplot(koala_subsample, aes(x=species, y=tail2)) +
geom_boxplot()
ggplot(koala_subsample, aes(x=species, y=tail, fill = region)) +
geom_boxplot()
koala_pivot<-koala_subsample%>%pivot_longer(cols = c(tail, tail2), names_to = 'tail_measure', values_to = 'tail_length')
head(koala_pivot)
ggplot(koala_pivot, aes(x=species, y=tail_length, fill = tail_measure)) +
geom_boxplot()
ggplot(koala_pivot, aes(x=species, y=tail_length, fill = tail_measure)) +
geom_boxplot()+
facet_grid(~sex)
koala_subsample2<-koala%>%select(species, region, sex, age, tail, joey,)%>%
mutate(age2 = age+sample(3, nrow(koala_subsample), replace = T),
tail2 = runif(nrow(koala_subsample), min = 2, max = 3),
tail3 = runif(nrow(koala_subsample), min = 1, max = 1.5),
joey2 = ifelse(koala$sex == 'female',
sample(c('Yes', 'No'), nrow(koala),  prob=c(0.3, 0.7), replace = T), 'No'),
joey3 = ifelse(koala$sex == 'female',
sample(c('Yes', 'No'), nrow(koala),  prob=c(0.5, 0.5), replace = T), 'No'),)
head(koala_subsample2)
koala_pivot_subsample<-koala_subsample2%>%mutate(ID = row_number())%>%
pivot_longer(cols = c(age, age2), names_to = 'age_check', values_to = 'age')
koala_pivot_subsample<-koala_pivot_subsample%>%pivot_longer(cols = c(tail, tail2, tail3), names_to = 'tail_measure', values_to = 'tail')
koala_pivot_subsample<-koala_pivot_subsample%>%pivot_longer(cols = c(joey, joey2, joey3), names_to = 'joey_check', values_to = 'joey')
koala_pivot_subsample<-koala_pivot_subsample%>%select(4, 1:3, 5, 7, 9, 6, 8, 10 ) #instead of typing the names you can use the column number!
head(koala_pivot_subsample)
koala_pivot_wide<-koala_pivot_subsample%>%pivot_wider(names_from = age_check, values_from = age)
head(koala_pivot_wide)
knitr::opts_chunk$set(echo = TRUE, warning = F)
library(tidyverse)
knitr::include_graphics("data/dplyr-doc/dplyr.png")
koala<-read.csv('data/koala.csv')
names(koala)
str(koala)
summary(koala)
mean(koala[koala$sex == 'male', "age"],na.rm = TRUE)
female_mean<-mean(koala[koala$sex == 'female', "age"],na.rm = TRUE)
male_mean<-mean(koala[koala$sex == 'male', "age"],na.rm = TRUE)
means<-rbind(c(female_mean, male_mean))
means<-as.data.frame(means)
names(means)<-c('female', 'male')
means
library(dplyr)
mean_age_koala<-koala%>%group_by(sex)%>%summarise(mean_age = mean(age))
mean_age_koala
koala_select<-select(koala, species, sex, age)
head(koala_select)
koala_select_pipe<-koala%>%select(species, sex, age)
koala_filter<-koala%>%filter(sex == 'male')
summary(koala_filter$sex)
challenge1<-koala%>%filter(sex == 'female')%>%
select(age, size, color)
nrow(challenge1)
ncol(challenge1)
challenge1.2<-challenge1%>%filter(size>70)
nrow(challenge1.2)
koala_group<-koala%>%group_by(sex)
str(koala_group)
koala_group_sum<-koala%>%group_by(sex)%>%
summarise(mean_age=mean(age))
koala_group_sum
challenge2<-koala%>%group_by(state, sex)%>%
summarise(mean_weight = mean(weight))
challenge2
challenge2_ext<-koala%>%group_by(state, sex)%>%
summarise(mean_weight = mean(weight),
sd_weight = sd(weight),
sample_no = n())
koala_mutate<-koala%>%mutate(weight_size_ratio = size/weight, ID = row_number())
names(koala_mutate)
koala_mutate_weight_size<-koala%>%mutate(weight_size_ratio = size/weight)%>%
group_by(sex)%>%
summarise(mean_weight = mean(weight),
sd_weight = sd(weight),
mean_weight_size = mean (weight_size_ratio),
max_weight_size = max(weight_size_ratio))
koala_mutate_weight_size
challenge3<-koala%>%filter(state == 'New South Wales')%>%
group_by(sex)%>%
sample_n(20)%>%
summarise(mean_tail = mean(tail), mean_fur = mean(fur))%>%
arrange(desc(mean_tail))
challenge3
koala_subsample<-koala%>%select(species, region, sex, tail, age)
head(koala_subsample)
koala_subsample<-koala_subsample%>%mutate(tail2 = runif(nrow(koala_subsample), min = 2, max = 3))
head(koala_subsample)
ggplot(koala_subsample, aes(x=species, y=tail)) +
geom_boxplot()
ggplot(koala_subsample, aes(x=species, y=tail2)) +
geom_boxplot()
ggplot(koala_subsample, aes(x=species, y=tail, fill = region)) +
geom_boxplot()
koala_pivot<-koala_subsample%>%pivot_longer(cols = c(tail, tail2), names_to = 'tail_measure', values_to = 'tail_length')
head(koala_pivot)
ggplot(koala_pivot, aes(x=species, y=tail_length, fill = tail_measure)) +
geom_boxplot()
ggplot(koala_pivot, aes(x=species, y=tail_length, fill = tail_measure)) +
geom_boxplot()+
facet_grid(~sex)
koala_subsample2<-koala%>%select(species, region, sex, age, tail, joey,)%>%
mutate(age2 = age+sample(3, nrow(koala_subsample), replace = T),
tail2 = runif(nrow(koala_subsample), min = 2, max = 3),
tail3 = runif(nrow(koala_subsample), min = 1, max = 1.5),
joey2 = ifelse(koala$sex == 'female',
sample(c('Yes', 'No'), nrow(koala),  prob=c(0.3, 0.7), replace = T), 'No'),
joey3 = ifelse(koala$sex == 'female',
sample(c('Yes', 'No'), nrow(koala),  prob=c(0.5, 0.5), replace = T), 'No'),)
head(koala_subsample2)
koala_pivot_subsample<-koala_subsample2%>%mutate(ID = row_number())%>%
pivot_longer(cols = c(age, age2), names_to = 'age_check', values_to = 'age')
koala_pivot_subsample<-koala_pivot_subsample%>%pivot_longer(cols = c(tail, tail2, tail3), names_to = 'tail_measure', values_to = 'tail')
koala_pivot_subsample<-koala_pivot_subsample%>%pivot_longer(cols = c(joey, joey2, joey3), names_to = 'joey_check', values_to = 'joey')
koala_pivot_subsample<-koala_pivot_subsample%>%select(4, 1:3, 5, 7, 9, 6, 8, 10 ) #instead of typing the names you can use the column number!
head(koala_pivot_subsample)
koala_pivot_wide<-koala_pivot_subsample%>%pivot_wider(names_from = age_check, values_from = age)
head(koala_pivot_wide)
new_data<-rbind(cbind.data.frame(ID = 1:40, sex = 'male',
measurement = c('tail1', 'tail2', 'tail3', 'tail4')),
cbind.data.frame(ID = 1:40, sex = 'female',
measurement = c('tail1', 'tail2', 'tail3', 'tail4')))%>%
mutate(tail = runif(80, min = 1, max = 2), animal = rep(c(1:20), each = 4))
head(new_data)
new_data_wide<-new_data%>%select(!ID)%>%pivot_wider(names_from = measurement, values_from = tail)
View(new_data)
new_data_wide<-new_data%>%select(new_data, !ID)%>%pivot_wider(names_from = measurement, values_from = tail)
new_data_wide<-select(new_data, !ID)%>%pivot_wider(names_from = measurement, values_from = tail)
new_data_wide<-new_data%>%select(-ID)%>%pivot_wider(names_from = measurement, values_from = tail)
head(new_data_wide)
new_data_wide<-new_data%>%select(!=ID)%>%pivot_wider(names_from = measurement, values_from = tail)
new_data_wide<-new_data%>%select(-ID)%>%pivot_wider(names_from = measurement, values_from = tail)
head(new_data_wide)
install.packages(emojifont)
install.packages("emojifont")
intstall.packages("showtext")
install.packages("showtext")
install.packages("see")
a <- c(7, 2, 4)
b <- c(20, 3, 5)
challenge2 <- function(a, b) {
m <- mean(a) + mean(b)
s <- m^7
rm(m)
return(s)
}
challenge2(a, b)
a <- c(7, 2, 4)
b <- c(20, 3, 5)
challenge2 <- function(a, b) {
m <- mean(a) + mean(b)
s <- m^7
rm(m)
# return(s)
}
challenge2(a, b)
